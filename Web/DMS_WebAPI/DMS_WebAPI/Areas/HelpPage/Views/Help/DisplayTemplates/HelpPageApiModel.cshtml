@using System.Web.Http
@using System.Web.Http.Description
@using DMS_WebAPI.Areas.HelpPage.Models
@using DMS_WebAPI.Areas.HelpPage.ModelDescriptions
@model HelpPageApiModel

@{
    ApiDescription description = Model.ApiDescription;
}
<h1>@description.HttpMethod.Method @description.RelativePath</h1>
<div>
  <p>@description.Documentation</p>

  @if (Model.RequestModelDescription != null || Model.UriParameters.Count > 0)
  {
      <h2>Параметры запроса</h2>
  }

  @if (Model.UriParameters.Count > 0)
  {
      <h3>URI Parameters</h3>
      @Html.DisplayFor(m => m.UriParameters, "Parameters")
  }


  @if (Model.RequestModelDescription != null)
  {
      <h3>Body Parameters</h3>

      <p>@Model.RequestDocumentation</p>

      @Html.DisplayFor(m => m.RequestModelDescription.ModelType, "ModelDescriptionLink", new { modelDescription = Model.RequestModelDescription })
    if (Model.RequestBodyParameters != null)
    {
          @Html.DisplayFor(m => m.RequestBodyParameters, "Parameters")
    }
  }

  @if (Model.SampleRequests.Count > 0)
  {
      <h3>Request Formats</h3>
      @Html.DisplayFor(m => m.SampleRequests, "Samples")
  }

  @*<h3>Resource Description</h3>*@

  @if (Model.ResourceDescription != null)
  {
      <h2>
        Запрос возвращает:
        @Html.DisplayFor(m => m.ResourceDescription.ModelType, "ModelDescriptionLink", new { modelDescription = Model.ResourceDescription })
      </h2>
      <p>@description.ResponseDescription.Documentation</p>

    if (Model.ResourceProperties != null)
    {
          @Html.DisplayFor(m => m.ResourceProperties, "Parameters")
    }
  }
  else
  {
      <p>None.</p>
  }

  @if (Model.SampleResponses.Count > 0)
  {
      <h3>Response Formats</h3>
      @Html.DisplayFor(m => m.SampleResponses, "Samples")
  }

</div>